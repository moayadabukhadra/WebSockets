/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_Whiteboard_js";
exports.ids = ["components_Whiteboard_js"];
exports.modules = {

/***/ "./styles/Whiteboard.module.css":
/*!**************************************!*\
  !*** ./styles/Whiteboard.module.css ***!
  \**************************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"container\": \"Whiteboard_container__iQwVa\",\n\t\"loginModal\": \"Whiteboard_loginModal__DV62d\",\n\t\"loginForm\": \"Whiteboard_loginForm__aBQhF\",\n\t\"sidebar\": \"Whiteboard_sidebar__KHUTn\",\n\t\"usersList\": \"Whiteboard_usersList__8v4Kv\",\n\t\"userItem\": \"Whiteboard_userItem__t7BvP\",\n\t\"mainContent\": \"Whiteboard_mainContent__rXTL3\",\n\t\"tools\": \"Whiteboard_tools___fmpp\",\n\t\"toolBtn\": \"Whiteboard_toolBtn__Z_ein\",\n\t\"active\": \"Whiteboard_active__wF9u7\",\n\t\"canvasContainer\": \"Whiteboard_canvasContainer__kZ6p5\",\n\t\"canvasWrapper\": \"Whiteboard_canvasWrapper__PBaL9\",\n\t\"cursor\": \"Whiteboard_cursor__CNSbn\",\n\t\"canvasElement\": \"Whiteboard_canvasElement___Yw7_\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdHlsZXMvV2hpdGVib2FyZC5tb2R1bGUuY3NzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2xsYWJvcmF0aXZlLXdoaXRlYm9hcmQvLi9zdHlsZXMvV2hpdGVib2FyZC5tb2R1bGUuY3NzP2Y5M2MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiY29udGFpbmVyXCI6IFwiV2hpdGVib2FyZF9jb250YWluZXJfX2lRd1ZhXCIsXG5cdFwibG9naW5Nb2RhbFwiOiBcIldoaXRlYm9hcmRfbG9naW5Nb2RhbF9fRFY2MmRcIixcblx0XCJsb2dpbkZvcm1cIjogXCJXaGl0ZWJvYXJkX2xvZ2luRm9ybV9fYUJRaEZcIixcblx0XCJzaWRlYmFyXCI6IFwiV2hpdGVib2FyZF9zaWRlYmFyX19LSFVUblwiLFxuXHRcInVzZXJzTGlzdFwiOiBcIldoaXRlYm9hcmRfdXNlcnNMaXN0X184djRLdlwiLFxuXHRcInVzZXJJdGVtXCI6IFwiV2hpdGVib2FyZF91c2VySXRlbV9fdDdCdlBcIixcblx0XCJtYWluQ29udGVudFwiOiBcIldoaXRlYm9hcmRfbWFpbkNvbnRlbnRfX3JYVEwzXCIsXG5cdFwidG9vbHNcIjogXCJXaGl0ZWJvYXJkX3Rvb2xzX19fZm1wcFwiLFxuXHRcInRvb2xCdG5cIjogXCJXaGl0ZWJvYXJkX3Rvb2xCdG5fX1pfZWluXCIsXG5cdFwiYWN0aXZlXCI6IFwiV2hpdGVib2FyZF9hY3RpdmVfX3dGOXU3XCIsXG5cdFwiY2FudmFzQ29udGFpbmVyXCI6IFwiV2hpdGVib2FyZF9jYW52YXNDb250YWluZXJfX2taNnA1XCIsXG5cdFwiY2FudmFzV3JhcHBlclwiOiBcIldoaXRlYm9hcmRfY2FudmFzV3JhcHBlcl9fUEJhTDlcIixcblx0XCJjdXJzb3JcIjogXCJXaGl0ZWJvYXJkX2N1cnNvcl9fQ05TYm5cIixcblx0XCJjYW52YXNFbGVtZW50XCI6IFwiV2hpdGVib2FyZF9jYW52YXNFbGVtZW50X19fWXc3X1wiXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./styles/Whiteboard.module.css\n");

/***/ }),

/***/ "./components/Whiteboard.js":
/*!**********************************!*\
  !*** ./components/Whiteboard.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Whiteboard)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../styles/Whiteboard.module.css */ \"./styles/Whiteboard.module.css\");\n/* harmony import */ var _styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fabric */ \"fabric\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nfunction Whiteboard({ socket }) {\n    const [username, setUsername] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [canvas, setCanvas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const cursorsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());\n    const [lastCursorPosition, setLastCursorPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const canvasWrapperRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const initializeCanvas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const container = document.getElementById(\"canvas-container\");\n        const canvasElement = document.getElementById(\"canvas\");\n        if (!container || !canvasElement) {\n            console.log(\"Container or canvas not found\");\n            return null;\n        }\n        // Force minimum dimensions if container size is 0\n        const containerWidth = container.offsetWidth || window.innerWidth - 250; // subtract sidebar width\n        const containerHeight = container.offsetHeight || window.innerHeight - 100; // subtract toolbar height\n        console.log(\"Container dimensions:\", containerWidth, containerHeight);\n        // Set initial canvas element size\n        canvasElement.style.width = `${containerWidth}px`;\n        canvasElement.style.height = `${containerHeight}px`;\n        // Create the fabric canvas instance\n        const fabricCanvas = new fabric__WEBPACK_IMPORTED_MODULE_3__.fabric.Canvas(canvasElement, {\n            width: containerWidth,\n            height: containerHeight,\n            isDrawingMode: true,\n            backgroundColor: \"white\",\n            renderOnAddRemove: true,\n            selection: true\n        });\n        // Log canvas dimensions after creation\n        console.log(\"Canvas dimensions:\", fabricCanvas.width, fabricCanvas.height);\n        setCanvas(fabricCanvas);\n        const handleResize = ()=>{\n            const newWidth = container.offsetWidth || window.innerWidth - 250;\n            const newHeight = container.offsetHeight || window.innerHeight - 100;\n            console.log(\"Resize dimensions:\", newWidth, newHeight);\n            fabricCanvas.setDimensions({\n                width: newWidth,\n                height: newHeight\n            });\n            fabricCanvas.renderAll();\n        };\n        // Initial resize\n        handleResize();\n        window.addEventListener(\"resize\", handleResize);\n        // Setup the drawing brush\n        fabricCanvas.freeDrawingBrush = new fabric__WEBPACK_IMPORTED_MODULE_3__.fabric.PencilBrush(fabricCanvas);\n        fabricCanvas.freeDrawingBrush.width = 5;\n        fabricCanvas.freeDrawingBrush.color = \"#000000\";\n        return ()=>{\n            window.removeEventListener(\"resize\", handleResize);\n            fabricCanvas.dispose();\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, [\n        initializeCanvas\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!canvas || !socket) return;\n        // Add these event listeners to handle object modifications\n        canvas.on(\"object:modified\", emitCanvasData);\n        canvas.on(\"object:moving\", emitCanvasData);\n        canvas.on(\"object:scaling\", emitCanvasData);\n        canvas.on(\"object:rotating\", emitCanvasData);\n        canvas.on(\"path:created\", emitCanvasData);\n        const handleMouseMove = (e)=>{\n            if (!canvasWrapperRef.current) return;\n            const rect = canvasWrapperRef.current.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const y = e.clientY - rect.top;\n            if (Math.abs(x - lastCursorPosition.x) > 1 || Math.abs(y - lastCursorPosition.y) > 1) {\n                socket.emit(\"cursor-move\", {\n                    x: Math.round(x),\n                    y: Math.round(y)\n                });\n                setLastCursorPosition({\n                    x,\n                    y\n                });\n            }\n        };\n        const setupSocketListeners = ()=>{\n            socket.on(\"cursor-move\", (data)=>{\n                if (data.userId !== socket.id) {\n                    updateCursor(data.userId, data.x, data.y, data.username);\n                }\n            });\n            socket.on(\"canvas-data\", (data)=>{\n                if (data.clear) {\n                    canvas.clear();\n                    canvas.setBackgroundColor(\"white\", canvas.renderAll.bind(canvas));\n                } else if (data.json) {\n                    // Preserve the current state before loading\n                    const zoom = canvas.getZoom();\n                    const viewportTransform = [\n                        ...canvas.viewportTransform\n                    ];\n                    const isDrawingMode = canvas.isDrawingMode;\n                    // Temporarily disable rendering to prevent flickering\n                    canvas.renderOnAddRemove = false;\n                    canvas.loadFromJSON(data.json, ()=>{\n                        // Restore the previous state\n                        canvas.renderOnAddRemove = true;\n                        canvas.isDrawingMode = isDrawingMode;\n                        canvas.setZoom(zoom);\n                        canvas.setViewportTransform(viewportTransform);\n                        canvas.renderAll();\n                    });\n                }\n            });\n            socket.on(\"userList\", updateUsersList);\n            socket.on(\"userJoined\", (data)=>console.log(`${data.username} joined`));\n            socket.on(\"userLeft\", (data)=>{\n                const cursor = cursorsRef.current.get(data.userId);\n                if (cursor) {\n                    cursor.remove();\n                    cursorsRef.current.delete(data.userId);\n                }\n                console.log(`${data.username} left`);\n            });\n        };\n        canvasWrapperRef.current?.addEventListener(\"mousemove\", handleMouseMove);\n        setupSocketListeners();\n        return ()=>{\n            // Add cleanup for the new event listeners\n            canvas.off(\"object:modified\", emitCanvasData);\n            canvas.off(\"object:moving\", emitCanvasData);\n            canvas.off(\"object:scaling\", emitCanvasData);\n            canvas.off(\"object:rotating\", emitCanvasData);\n            canvas.off(\"path:created\", emitCanvasData);\n            canvasWrapperRef.current?.removeEventListener(\"mousemove\", handleMouseMove);\n            socket.off(\"cursor-move\");\n            socket.off(\"canvas-data\");\n            socket.off(\"userList\");\n            socket.off(\"userJoined\");\n            socket.off(\"userLeft\");\n        };\n    }, [\n        canvas,\n        socket,\n        lastCursorPosition\n    ]);\n    const registerUser = ()=>{\n        const inputUsername = document.getElementById(\"username-input\").value.trim();\n        if (inputUsername) {\n            setUsername(inputUsername);\n            document.getElementById(\"login-modal\").style.display = \"none\";\n            document.querySelector(`.${(_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().container)}`).style.display = \"flex\";\n            socket.emit(\"register\", inputUsername);\n        }\n    };\n    const updateCursor = (userId, x, y, username)=>{\n        let cursor = cursorsRef.current.get(userId);\n        if (!cursor && canvasWrapperRef.current) {\n            cursor = document.createElement(\"div\");\n            cursor.className = (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().cursor);\n            cursor.style.background = `hsl(${Math.random() * 360}, 70%, 50%)`;\n            cursor.dataset.username = username;\n            canvasWrapperRef.current.appendChild(cursor);\n            cursorsRef.current.set(userId, cursor);\n        }\n        if (cursor) {\n            cursor.style.left = `${x}px`;\n            cursor.style.top = `${y}px`;\n        }\n    };\n    const updateUsersList = (users)=>{\n        const usersList = document.getElementById(\"users-list\");\n        if (usersList) {\n            usersList.innerHTML = users.map((user)=>`<div class=\"${(_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().userItem)}\">${user.username}</div>`).join(\"\");\n        }\n    };\n    const setActiveTool = (toolName)=>{\n        const tools = document.querySelectorAll(`.${(_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().toolBtn)}`);\n        tools.forEach((tool)=>tool.classList.remove((_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().active)));\n        document.querySelector(`[data-tool=\"${toolName}\"]`)?.classList.add((_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().active));\n        if (!canvas) return;\n        canvas.isDrawingMode = false;\n        canvas.selection = true;\n        switch(toolName){\n            case \"pencil\":\n                canvas.isDrawingMode = true;\n                canvas.freeDrawingBrush.color = document.getElementById(\"colorPicker\").value;\n                canvas.freeDrawingBrush.width = parseInt(document.getElementById(\"brushSize\").value);\n                break;\n            case \"eraser\":\n                canvas.isDrawingMode = true;\n                canvas.freeDrawingBrush.color = \"#ffffff\";\n                canvas.freeDrawingBrush.width = parseInt(document.getElementById(\"brushSize\").value) * 2;\n                break;\n            case \"rect\":\n                addShape(\"rect\");\n                break;\n            case \"circle\":\n                addShape(\"circle\");\n                break;\n            case \"text\":\n                addText();\n                break;\n        }\n    };\n    const addShape = (type)=>{\n        if (!canvas) return;\n        let shape;\n        if (type === \"rect\") {\n            shape = new fabric__WEBPACK_IMPORTED_MODULE_3__.fabric.Rect({\n                left: 100,\n                top: 100,\n                width: 100,\n                height: 100,\n                fill: document.getElementById(\"colorPicker\").value\n            });\n        } else if (type === \"circle\") {\n            shape = new fabric__WEBPACK_IMPORTED_MODULE_3__.fabric.Circle({\n                left: 100,\n                top: 100,\n                radius: 50,\n                fill: document.getElementById(\"colorPicker\").value\n            });\n        }\n        if (shape) {\n            canvas.add(shape);\n            canvas.setActiveObject(shape);\n            emitCanvasData();\n        }\n    };\n    const addText = ()=>{\n        if (!canvas) return;\n        const text = new fabric__WEBPACK_IMPORTED_MODULE_3__.fabric.IText(\"Type here\", {\n            left: 100,\n            top: 100,\n            fontFamily: \"Arial\",\n            fill: document.getElementById(\"colorPicker\").value\n        });\n        canvas.add(text);\n        canvas.setActiveObject(text);\n        emitCanvasData();\n    };\n    const throttle = (func, limit)=>{\n        let inThrottle;\n        return function(...args) {\n            if (!inThrottle) {\n                func.apply(this, args);\n                inThrottle = true;\n                setTimeout(()=>inThrottle = false, limit);\n            }\n        };\n    };\n    const throttledEmit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(throttle((json)=>{\n        socket.emit(\"canvas-data\", {\n            json\n        });\n    }, 16), [\n        socket\n    ]);\n    const emitCanvasData = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!socket || !canvas) return;\n        throttledEmit(JSON.stringify(canvas.toJSON()));\n    }, [\n        socket,\n        canvas,\n        throttledEmit\n    ]);\n    const deleteSelectedObjects = ()=>{\n        if (!canvas) return;\n        const activeObject = canvas.getActiveObject();\n        if (activeObject) {\n            if (activeObject.type === \"activeSelection\") {\n                activeObject.forEachObject((obj)=>{\n                    canvas.remove(obj);\n                });\n                canvas.discardActiveObject();\n            } else {\n                canvas.remove(activeObject);\n            }\n            canvas.requestRenderAll();\n            emitCanvasData();\n        }\n    };\n    const clearCanvas = ()=>{\n        if (canvas) {\n            canvas.clear();\n            canvas.setBackgroundColor(\"white\", canvas.renderAll.bind(canvas));\n            socket.emit(\"canvas-data\", {\n                clear: true\n            });\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                id: \"login-modal\",\n                className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().loginModal),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().loginForm),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            children: \"Enter Your Name\"\n                        }, void 0, false, {\n                            fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                            lineNumber: 332,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            id: \"username-input\",\n                            placeholder: \"Your name\"\n                        }, void 0, false, {\n                            fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                            lineNumber: 333,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: registerUser,\n                            children: \"Join Whiteboard\"\n                        }, void 0, false, {\n                            fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                            lineNumber: 334,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                    lineNumber: 331,\n                    columnNumber: 17\n                }, this)\n            }, void 0, false, {\n                fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                lineNumber: 330,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().container),\n                style: {\n                    display: \"none\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().sidebar),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                children: \"Connected Users\"\n                            }, void 0, false, {\n                                fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                lineNumber: 340,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                id: \"users-list\",\n                                className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().usersList)\n                            }, void 0, false, {\n                                fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                lineNumber: 341,\n                                columnNumber: 21\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                        lineNumber: 339,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().mainContent),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().tools),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: `${(_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().toolBtn)} ${(_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().active)}`,\n                                        \"data-tool\": \"pencil\",\n                                        onClick: ()=>setActiveTool(\"pencil\"),\n                                        children: \"Pencil\"\n                                    }, void 0, false, {\n                                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                        lineNumber: 346,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().toolBtn),\n                                        \"data-tool\": \"rect\",\n                                        onClick: ()=>setActiveTool(\"rect\"),\n                                        children: \"Rectangle\"\n                                    }, void 0, false, {\n                                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                        lineNumber: 347,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().toolBtn),\n                                        \"data-tool\": \"circle\",\n                                        onClick: ()=>setActiveTool(\"circle\"),\n                                        children: \"Circle\"\n                                    }, void 0, false, {\n                                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                        lineNumber: 348,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().toolBtn),\n                                        \"data-tool\": \"text\",\n                                        onClick: ()=>setActiveTool(\"text\"),\n                                        children: \"Text\"\n                                    }, void 0, false, {\n                                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                        lineNumber: 349,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().toolBtn),\n                                        \"data-tool\": \"select\",\n                                        onClick: ()=>setActiveTool(\"select\"),\n                                        children: \"Select\"\n                                    }, void 0, false, {\n                                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                        lineNumber: 350,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().toolBtn),\n                                        \"data-tool\": \"eraser\",\n                                        onClick: ()=>setActiveTool(\"eraser\"),\n                                        children: \"Eraser\"\n                                    }, void 0, false, {\n                                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                        lineNumber: 351,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"color\",\n                                        id: \"colorPicker\",\n                                        defaultValue: \"#000000\",\n                                        onChange: (e)=>canvas && (canvas.freeDrawingBrush.color = e.target.value)\n                                    }, void 0, false, {\n                                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                        lineNumber: 352,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        id: \"brushSize\",\n                                        min: \"1\",\n                                        max: \"50\",\n                                        defaultValue: \"5\",\n                                        onChange: (e)=>canvas && (canvas.freeDrawingBrush.width = parseInt(e.target.value))\n                                    }, void 0, false, {\n                                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                        lineNumber: 353,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().toolBtn),\n                                        onClick: clearCanvas,\n                                        children: \"Clear Canvas\"\n                                    }, void 0, false, {\n                                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                        lineNumber: 354,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().toolBtn),\n                                        onClick: ()=>canvas && window.open(canvas.toDataURL(\"image/png\")),\n                                        children: \"Download\"\n                                    }, void 0, false, {\n                                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                        lineNumber: 355,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().toolBtn),\n                                        onClick: deleteSelectedObjects,\n                                        children: \"Delete\"\n                                    }, void 0, false, {\n                                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                        lineNumber: 356,\n                                        columnNumber: 25\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                lineNumber: 345,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                id: \"canvas-container\",\n                                className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().canvasContainer),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    id: \"canvas-wrapper\",\n                                    ref: canvasWrapperRef,\n                                    className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().canvasWrapper),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                                        id: \"canvas\",\n                                        className: (_styles_Whiteboard_module_css__WEBPACK_IMPORTED_MODULE_2___default().canvasElement)\n                                    }, void 0, false, {\n                                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                        lineNumber: 360,\n                                        columnNumber: 29\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                    lineNumber: 359,\n                                    columnNumber: 25\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                                lineNumber: 358,\n                                columnNumber: 21\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                        lineNumber: 344,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/mnt/c/laragon/www/WebSockets/components/Whiteboard.js\",\n                lineNumber: 338,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Riw4RUFBYzt3Q0FBRTJKLFNBQVNmO2tEQUF1Qjs7Ozs7Ozs7Ozs7OzBDQUV2RSw4REFBQ1E7Z0NBQUloRixJQUFHO2dDQUFtQnlCLFdBQVc3RixzRkFBc0I7MENBQ3hELDRFQUFDb0o7b0NBQUloRixJQUFHO29DQUFpQm9HLEtBQUsxSjtvQ0FBa0IrRSxXQUFXN0Ysb0ZBQW9COzhDQUMzRSw0RUFBQ007d0NBQU84RCxJQUFHO3dDQUFTeUIsV0FBVzdGLG9GQUFvQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTy9FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29sbGFib3JhdGl2ZS13aGl0ZWJvYXJkLy4vY29tcG9uZW50cy9XaGl0ZWJvYXJkLmpzPzUxZDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHN0eWxlcyBmcm9tICcuLi9zdHlsZXMvV2hpdGVib2FyZC5tb2R1bGUuY3NzJztcclxuaW1wb3J0IHsgZmFicmljIH0gZnJvbSAnZmFicmljJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdoaXRlYm9hcmQoeyBzb2NrZXQgfSkge1xyXG4gICAgY29uc3QgW3VzZXJuYW1lLCBzZXRVc2VybmFtZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgICBjb25zdCBbY2FudmFzLCBzZXRDYW52YXNdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgICBjb25zdCBjdXJzb3JzUmVmID0gdXNlUmVmKG5ldyBNYXAoKSk7XHJcbiAgICBjb25zdCBbbGFzdEN1cnNvclBvc2l0aW9uLCBzZXRMYXN0Q3Vyc29yUG9zaXRpb25dID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwIH0pO1xyXG4gICAgY29uc3QgY2FudmFzV3JhcHBlclJlZiA9IHVzZVJlZihudWxsKTtcclxuXHJcbiAgICBjb25zdCBpbml0aWFsaXplQ2FudmFzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJyk7XHJcbiAgICAgICAgY29uc3QgY2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcclxuICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCAhY2FudmFzRWxlbWVudCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ29udGFpbmVyIG9yIGNhbnZhcyBub3QgZm91bmQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGb3JjZSBtaW5pbXVtIGRpbWVuc2lvbnMgaWYgY29udGFpbmVyIHNpemUgaXMgMFxyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoIHx8IHdpbmRvdy5pbm5lcldpZHRoIC0gMjUwOyAvLyBzdWJ0cmFjdCBzaWRlYmFyIHdpZHRoXHJcbiAgICAgICAgY29uc3QgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVyLm9mZnNldEhlaWdodCB8fCB3aW5kb3cuaW5uZXJIZWlnaHQgLSAxMDA7IC8vIHN1YnRyYWN0IHRvb2xiYXIgaGVpZ2h0XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDb250YWluZXIgZGltZW5zaW9uczonLCBjb250YWluZXJXaWR0aCwgY29udGFpbmVySGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gU2V0IGluaXRpYWwgY2FudmFzIGVsZW1lbnQgc2l6ZVxyXG4gICAgICAgIGNhbnZhc0VsZW1lbnQuc3R5bGUud2lkdGggPSBgJHtjb250YWluZXJXaWR0aH1weGA7XHJcbiAgICAgICAgY2FudmFzRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHtjb250YWluZXJIZWlnaHR9cHhgO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGhlIGZhYnJpYyBjYW52YXMgaW5zdGFuY2VcclxuICAgICAgICBjb25zdCBmYWJyaWNDYW52YXMgPSBuZXcgZmFicmljLkNhbnZhcyhjYW52YXNFbGVtZW50LCB7XHJcbiAgICAgICAgICAgIHdpZHRoOiBjb250YWluZXJXaWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBjb250YWluZXJIZWlnaHQsXHJcbiAgICAgICAgICAgIGlzRHJhd2luZ01vZGU6IHRydWUsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgcmVuZGVyT25BZGRSZW1vdmU6IHRydWUsXHJcbiAgICAgICAgICAgIHNlbGVjdGlvbjogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBMb2cgY2FudmFzIGRpbWVuc2lvbnMgYWZ0ZXIgY3JlYXRpb25cclxuICAgICAgICBjb25zb2xlLmxvZygnQ2FudmFzIGRpbWVuc2lvbnM6JywgZmFicmljQ2FudmFzLndpZHRoLCBmYWJyaWNDYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgc2V0Q2FudmFzKGZhYnJpY0NhbnZhcyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3V2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGggfHwgd2luZG93LmlubmVyV2lkdGggLSAyNTA7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0hlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQgfHwgd2luZG93LmlubmVySGVpZ2h0IC0gMTAwO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Jlc2l6ZSBkaW1lbnNpb25zOicsIG5ld1dpZHRoLCBuZXdIZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgZmFicmljQ2FudmFzLnNldERpbWVuc2lvbnMoe1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IG5ld1dpZHRoLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBuZXdIZWlnaHRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZhYnJpY0NhbnZhcy5yZW5kZXJBbGwoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBJbml0aWFsIHJlc2l6ZVxyXG4gICAgICAgIGhhbmRsZVJlc2l6ZSgpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xyXG5cclxuICAgICAgICAvLyBTZXR1cCB0aGUgZHJhd2luZyBicnVzaFxyXG4gICAgICAgIGZhYnJpY0NhbnZhcy5mcmVlRHJhd2luZ0JydXNoID0gbmV3IGZhYnJpYy5QZW5jaWxCcnVzaChmYWJyaWNDYW52YXMpO1xyXG4gICAgICAgIGZhYnJpY0NhbnZhcy5mcmVlRHJhd2luZ0JydXNoLndpZHRoID0gNTtcclxuICAgICAgICBmYWJyaWNDYW52YXMuZnJlZURyYXdpbmdCcnVzaC5jb2xvciA9ICcjMDAwMDAwJztcclxuXHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XHJcbiAgICAgICAgICAgIGZhYnJpY0NhbnZhcy5kaXNwb3NlKCk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBjb25zdCBjbGVhbnVwID0gaW5pdGlhbGl6ZUNhbnZhcygpO1xyXG4gICAgICAgICAgICBpZiAoY2xlYW51cCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsZWFudXA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LCBbaW5pdGlhbGl6ZUNhbnZhc10pO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFjYW52YXMgfHwgIXNvY2tldCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBBZGQgdGhlc2UgZXZlbnQgbGlzdGVuZXJzIHRvIGhhbmRsZSBvYmplY3QgbW9kaWZpY2F0aW9uc1xyXG4gICAgICAgIGNhbnZhcy5vbignb2JqZWN0Om1vZGlmaWVkJywgZW1pdENhbnZhc0RhdGEpO1xyXG4gICAgICAgIGNhbnZhcy5vbignb2JqZWN0Om1vdmluZycsIGVtaXRDYW52YXNEYXRhKTtcclxuICAgICAgICBjYW52YXMub24oJ29iamVjdDpzY2FsaW5nJywgZW1pdENhbnZhc0RhdGEpO1xyXG4gICAgICAgIGNhbnZhcy5vbignb2JqZWN0OnJvdGF0aW5nJywgZW1pdENhbnZhc0RhdGEpO1xyXG4gICAgICAgIGNhbnZhcy5vbigncGF0aDpjcmVhdGVkJywgZW1pdENhbnZhc0RhdGEpO1xyXG5cclxuICAgICAgICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWNhbnZhc1dyYXBwZXJSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCByZWN0ID0gY2FudmFzV3JhcHBlclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gZS5jbGllbnRYIC0gcmVjdC5sZWZ0O1xyXG4gICAgICAgICAgICBjb25zdCB5ID0gZS5jbGllbnRZIC0gcmVjdC50b3A7XHJcblxyXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoeCAtIGxhc3RDdXJzb3JQb3NpdGlvbi54KSA+IDEgfHwgTWF0aC5hYnMoeSAtIGxhc3RDdXJzb3JQb3NpdGlvbi55KSA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KCdjdXJzb3ItbW92ZScsIHsgeDogTWF0aC5yb3VuZCh4KSwgeTogTWF0aC5yb3VuZCh5KSB9KTtcclxuICAgICAgICAgICAgICAgIHNldExhc3RDdXJzb3JQb3NpdGlvbih7IHgsIHkgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBzZXR1cFNvY2tldExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgICAgICAgICAgc29ja2V0Lm9uKCdjdXJzb3ItbW92ZScsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS51c2VySWQgIT09IHNvY2tldC5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1cnNvcihkYXRhLnVzZXJJZCwgZGF0YS54LCBkYXRhLnksIGRhdGEudXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNvY2tldC5vbignY2FudmFzLWRhdGEnLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY2xlYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuc2V0QmFja2dyb3VuZENvbG9yKCd3aGl0ZScsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5qc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgdGhlIGN1cnJlbnQgc3RhdGUgYmVmb3JlIGxvYWRpbmdcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB6b29tID0gY2FudmFzLmdldFpvb20oKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWV3cG9ydFRyYW5zZm9ybSA9IFsuLi5jYW52YXMudmlld3BvcnRUcmFuc2Zvcm1dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRHJhd2luZ01vZGUgPSBjYW52YXMuaXNEcmF3aW5nTW9kZTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBUZW1wb3JhcmlseSBkaXNhYmxlIHJlbmRlcmluZyB0byBwcmV2ZW50IGZsaWNrZXJpbmdcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMucmVuZGVyT25BZGRSZW1vdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMubG9hZEZyb21KU09OKGRhdGEuanNvbiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXN0b3JlIHRoZSBwcmV2aW91cyBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMucmVuZGVyT25BZGRSZW1vdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuaXNEcmF3aW5nTW9kZSA9IGlzRHJhd2luZ01vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRab29tKHpvb20pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuc2V0Vmlld3BvcnRUcmFuc2Zvcm0odmlld3BvcnRUcmFuc2Zvcm0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMucmVuZGVyQWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc29ja2V0Lm9uKCd1c2VyTGlzdCcsIHVwZGF0ZVVzZXJzTGlzdCk7XHJcbiAgICAgICAgICAgIHNvY2tldC5vbigndXNlckpvaW5lZCcsIChkYXRhKSA9PiBjb25zb2xlLmxvZyhgJHtkYXRhLnVzZXJuYW1lfSBqb2luZWRgKSk7XHJcbiAgICAgICAgICAgIHNvY2tldC5vbigndXNlckxlZnQnLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3Vyc29yID0gY3Vyc29yc1JlZi5jdXJyZW50LmdldChkYXRhLnVzZXJJZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcnNSZWYuY3VycmVudC5kZWxldGUoZGF0YS51c2VySWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7ZGF0YS51c2VybmFtZX0gbGVmdGApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjYW52YXNXcmFwcGVyUmVmLmN1cnJlbnQ/LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7XHJcbiAgICAgICAgc2V0dXBTb2NrZXRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgLy8gQWRkIGNsZWFudXAgZm9yIHRoZSBuZXcgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgICAgIGNhbnZhcy5vZmYoJ29iamVjdDptb2RpZmllZCcsIGVtaXRDYW52YXNEYXRhKTtcclxuICAgICAgICAgICAgY2FudmFzLm9mZignb2JqZWN0Om1vdmluZycsIGVtaXRDYW52YXNEYXRhKTtcclxuICAgICAgICAgICAgY2FudmFzLm9mZignb2JqZWN0OnNjYWxpbmcnLCBlbWl0Q2FudmFzRGF0YSk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5vZmYoJ29iamVjdDpyb3RhdGluZycsIGVtaXRDYW52YXNEYXRhKTtcclxuICAgICAgICAgICAgY2FudmFzLm9mZigncGF0aDpjcmVhdGVkJywgZW1pdENhbnZhc0RhdGEpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY2FudmFzV3JhcHBlclJlZi5jdXJyZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpO1xyXG4gICAgICAgICAgICBzb2NrZXQub2ZmKCdjdXJzb3ItbW92ZScpO1xyXG4gICAgICAgICAgICBzb2NrZXQub2ZmKCdjYW52YXMtZGF0YScpO1xyXG4gICAgICAgICAgICBzb2NrZXQub2ZmKCd1c2VyTGlzdCcpO1xyXG4gICAgICAgICAgICBzb2NrZXQub2ZmKCd1c2VySm9pbmVkJyk7XHJcbiAgICAgICAgICAgIHNvY2tldC5vZmYoJ3VzZXJMZWZ0Jyk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIFtjYW52YXMsIHNvY2tldCwgbGFzdEN1cnNvclBvc2l0aW9uXSk7XHJcblxyXG4gICAgY29uc3QgcmVnaXN0ZXJVc2VyID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlucHV0VXNlcm5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcm5hbWUtaW5wdXQnKS52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgaWYgKGlucHV0VXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgc2V0VXNlcm5hbWUoaW5wdXRVc2VybmFtZSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbi1tb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3N0eWxlcy5jb250YWluZXJ9YCkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgICAgICAgICAgc29ja2V0LmVtaXQoJ3JlZ2lzdGVyJywgaW5wdXRVc2VybmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVDdXJzb3IgPSAodXNlcklkLCB4LCB5LCB1c2VybmFtZSkgPT4ge1xyXG4gICAgICAgIGxldCBjdXJzb3IgPSBjdXJzb3JzUmVmLmN1cnJlbnQuZ2V0KHVzZXJJZCk7XHJcblxyXG4gICAgICAgIGlmICghY3Vyc29yICYmIGNhbnZhc1dyYXBwZXJSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICBjdXJzb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgY3Vyc29yLmNsYXNzTmFtZSA9IHN0eWxlcy5jdXJzb3I7XHJcbiAgICAgICAgICAgIGN1cnNvci5zdHlsZS5iYWNrZ3JvdW5kID0gYGhzbCgke01hdGgucmFuZG9tKCkgKiAzNjB9LCA3MCUsIDUwJSlgO1xyXG4gICAgICAgICAgICBjdXJzb3IuZGF0YXNldC51c2VybmFtZSA9IHVzZXJuYW1lO1xyXG4gICAgICAgICAgICBjYW52YXNXcmFwcGVyUmVmLmN1cnJlbnQuYXBwZW5kQ2hpbGQoY3Vyc29yKTtcclxuICAgICAgICAgICAgY3Vyc29yc1JlZi5jdXJyZW50LnNldCh1c2VySWQsIGN1cnNvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgIGN1cnNvci5zdHlsZS5sZWZ0ID0gYCR7eH1weGA7XHJcbiAgICAgICAgICAgIGN1cnNvci5zdHlsZS50b3AgPSBgJHt5fXB4YDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZVVzZXJzTGlzdCA9ICh1c2VycykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVzZXJzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2Vycy1saXN0Jyk7XHJcbiAgICAgICAgaWYgKHVzZXJzTGlzdCkge1xyXG4gICAgICAgICAgICB1c2Vyc0xpc3QuaW5uZXJIVE1MID0gdXNlcnNcclxuICAgICAgICAgICAgICAgIC5tYXAodXNlciA9PiBgPGRpdiBjbGFzcz1cIiR7c3R5bGVzLnVzZXJJdGVtfVwiPiR7dXNlci51c2VybmFtZX08L2Rpdj5gKVxyXG4gICAgICAgICAgICAgICAgLmpvaW4oJycpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgc2V0QWN0aXZlVG9vbCA9ICh0b29sTmFtZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRvb2xzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7c3R5bGVzLnRvb2xCdG59YCk7XHJcbiAgICAgICAgdG9vbHMuZm9yRWFjaCh0b29sID0+IHRvb2wuY2xhc3NMaXN0LnJlbW92ZShzdHlsZXMuYWN0aXZlKSk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdG9vbD1cIiR7dG9vbE5hbWV9XCJdYCk/LmNsYXNzTGlzdC5hZGQoc3R5bGVzLmFjdGl2ZSk7XHJcblxyXG4gICAgICAgIGlmICghY2FudmFzKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgY2FudmFzLnNlbGVjdGlvbiA9IHRydWU7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodG9vbE5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSAncGVuY2lsJzpcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5mcmVlRHJhd2luZ0JydXNoLmNvbG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yUGlja2VyJykudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMuZnJlZURyYXdpbmdCcnVzaC53aWR0aCA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicnVzaFNpemUnKS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZXJhc2VyJzpcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5mcmVlRHJhd2luZ0JydXNoLmNvbG9yID0gJyNmZmZmZmYnO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2gud2lkdGggPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJ1c2hTaXplJykudmFsdWUpICogMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdyZWN0JzpcclxuICAgICAgICAgICAgICAgIGFkZFNoYXBlKCdyZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnY2lyY2xlJzpcclxuICAgICAgICAgICAgICAgIGFkZFNoYXBlKCdjaXJjbGUnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0ZXh0JzpcclxuICAgICAgICAgICAgICAgIGFkZFRleHQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgYWRkU2hhcGUgPSAodHlwZSkgPT4ge1xyXG4gICAgICAgIGlmICghY2FudmFzKSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBzaGFwZTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3JlY3QnKSB7XHJcbiAgICAgICAgICAgIHNoYXBlID0gbmV3IGZhYnJpYy5SZWN0KHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDEwMCxcclxuICAgICAgICAgICAgICAgIHRvcDogMTAwLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMTAwLFxyXG4gICAgICAgICAgICAgICAgZmlsbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yUGlja2VyJykudmFsdWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnY2lyY2xlJykge1xyXG4gICAgICAgICAgICBzaGFwZSA9IG5ldyBmYWJyaWMuQ2lyY2xlKHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDEwMCxcclxuICAgICAgICAgICAgICAgIHRvcDogMTAwLFxyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiA1MCxcclxuICAgICAgICAgICAgICAgIGZpbGw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2xvclBpY2tlcicpLnZhbHVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNoYXBlKSB7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGQoc2hhcGUpO1xyXG4gICAgICAgICAgICBjYW52YXMuc2V0QWN0aXZlT2JqZWN0KHNoYXBlKTtcclxuICAgICAgICAgICAgZW1pdENhbnZhc0RhdGEoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGFkZFRleHQgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFjYW52YXMpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dCA9IG5ldyBmYWJyaWMuSVRleHQoJ1R5cGUgaGVyZScsIHtcclxuICAgICAgICAgICAgbGVmdDogMTAwLFxyXG4gICAgICAgICAgICB0b3A6IDEwMCxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgZmlsbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yUGlja2VyJykudmFsdWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBjYW52YXMuYWRkKHRleHQpO1xyXG4gICAgICAgIGNhbnZhcy5zZXRBY3RpdmVPYmplY3QodGV4dCk7XHJcbiAgICAgICAgZW1pdENhbnZhc0RhdGEoKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdGhyb3R0bGUgPSAoZnVuYywgbGltaXQpID0+IHtcclxuICAgICAgICBsZXQgaW5UaHJvdHRsZTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xyXG4gICAgICAgICAgICBpZiAoIWluVGhyb3R0bGUpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICBpblRocm90dGxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaW5UaHJvdHRsZSA9IGZhbHNlLCBsaW1pdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGhyb3R0bGVkRW1pdCA9IHVzZUNhbGxiYWNrKFxyXG4gICAgICAgIHRocm90dGxlKChqc29uKSA9PiB7XHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KCdjYW52YXMtZGF0YScsIHsganNvbiB9KTtcclxuICAgICAgICB9LCAxNiksXHJcbiAgICAgICAgW3NvY2tldF1cclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgZW1pdENhbnZhc0RhdGEgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFzb2NrZXQgfHwgIWNhbnZhcykgcmV0dXJuO1xyXG4gICAgICAgIHRocm90dGxlZEVtaXQoSlNPTi5zdHJpbmdpZnkoY2FudmFzLnRvSlNPTigpKSk7XHJcbiAgICB9LCBbc29ja2V0LCBjYW52YXMsIHRocm90dGxlZEVtaXRdKTtcclxuXHJcbiAgICBjb25zdCBkZWxldGVTZWxlY3RlZE9iamVjdHMgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFjYW52YXMpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgYWN0aXZlT2JqZWN0ID0gY2FudmFzLmdldEFjdGl2ZU9iamVjdCgpO1xyXG4gICAgICAgIGlmIChhY3RpdmVPYmplY3QpIHtcclxuICAgICAgICAgICAgaWYgKGFjdGl2ZU9iamVjdC50eXBlID09PSAnYWN0aXZlU2VsZWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlT2JqZWN0LmZvckVhY2hPYmplY3Qob2JqID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMucmVtb3ZlKG9iaik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5kaXNjYXJkQWN0aXZlT2JqZWN0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMucmVtb3ZlKGFjdGl2ZU9iamVjdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKTtcclxuICAgICAgICAgICAgZW1pdENhbnZhc0RhdGEoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGNsZWFyQ2FudmFzID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChjYW52YXMpIHtcclxuICAgICAgICAgICAgY2FudmFzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5zZXRCYWNrZ3JvdW5kQ29sb3IoJ3doaXRlJywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xyXG4gICAgICAgICAgICBzb2NrZXQuZW1pdCgnY2FudmFzLWRhdGEnLCB7IGNsZWFyOiB0cnVlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwibG9naW4tbW9kYWxcIiBjbGFzc05hbWU9e3N0eWxlcy5sb2dpbk1vZGFsfT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubG9naW5Gb3JtfT5cclxuICAgICAgICAgICAgICAgICAgICA8aDI+RW50ZXIgWW91ciBOYW1lPC9oMj5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInVzZXJuYW1lLWlucHV0XCIgcGxhY2Vob2xkZXI9XCJZb3VyIG5hbWVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17cmVnaXN0ZXJVc2VyfT5Kb2luIFdoaXRlYm9hcmQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGFpbmVyfSBzdHlsZT17eyBkaXNwbGF5OiAnbm9uZScgfX0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNpZGViYXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMz5Db25uZWN0ZWQgVXNlcnM8L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ1c2Vycy1saXN0XCIgY2xhc3NOYW1lPXtzdHlsZXMudXNlcnNMaXN0fT48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubWFpbkNvbnRlbnR9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudG9vbHN9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17YCR7c3R5bGVzLnRvb2xCdG59ICR7c3R5bGVzLmFjdGl2ZX1gfSBkYXRhLXRvb2w9XCJwZW5jaWxcIiBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUb29sKCdwZW5jaWwnKX0+UGVuY2lsPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXtzdHlsZXMudG9vbEJ0bn0gZGF0YS10b29sPVwicmVjdFwiIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVRvb2woJ3JlY3QnKX0+UmVjdGFuZ2xlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXtzdHlsZXMudG9vbEJ0bn0gZGF0YS10b29sPVwiY2lyY2xlXCIgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVG9vbCgnY2lyY2xlJyl9PkNpcmNsZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17c3R5bGVzLnRvb2xCdG59IGRhdGEtdG9vbD1cInRleHRcIiBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUb29sKCd0ZXh0Jyl9PlRleHQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e3N0eWxlcy50b29sQnRufSBkYXRhLXRvb2w9XCJzZWxlY3RcIiBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUb29sKCdzZWxlY3QnKX0+U2VsZWN0PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXtzdHlsZXMudG9vbEJ0bn0gZGF0YS10b29sPVwiZXJhc2VyXCIgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVG9vbCgnZXJhc2VyJyl9PkVyYXNlcjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNvbG9yXCIgaWQ9XCJjb2xvclBpY2tlclwiIGRlZmF1bHRWYWx1ZT1cIiMwMDAwMDBcIiBvbkNoYW5nZT17KGUpID0+IGNhbnZhcyAmJiAoY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2guY29sb3IgPSBlLnRhcmdldC52YWx1ZSl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBpZD1cImJydXNoU2l6ZVwiIG1pbj1cIjFcIiBtYXg9XCI1MFwiIGRlZmF1bHRWYWx1ZT1cIjVcIiBvbkNoYW5nZT17KGUpID0+IGNhbnZhcyAmJiAoY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2gud2lkdGggPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSkpfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17c3R5bGVzLnRvb2xCdG59IG9uQ2xpY2s9e2NsZWFyQ2FudmFzfT5DbGVhciBDYW52YXM8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e3N0eWxlcy50b29sQnRufSBvbkNsaWNrPXsoKSA9PiBjYW52YXMgJiYgd2luZG93Lm9wZW4oY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJykpfT5Eb3dubG9hZDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17c3R5bGVzLnRvb2xCdG59IG9uQ2xpY2s9e2RlbGV0ZVNlbGVjdGVkT2JqZWN0c30+RGVsZXRlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImNhbnZhcy1jb250YWluZXJcIiBjbGFzc05hbWU9e3N0eWxlcy5jYW52YXNDb250YWluZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiY2FudmFzLXdyYXBwZXJcIiByZWY9e2NhbnZhc1dyYXBwZXJSZWZ9IGNsYXNzTmFtZT17c3R5bGVzLmNhbnZhc1dyYXBwZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNhbnZhcyBpZD1cImNhbnZhc1wiIGNsYXNzTmFtZT17c3R5bGVzLmNhbnZhc0VsZW1lbnR9PjwvY2FudmFzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8Lz5cclxuICAgICk7XHJcbn0gICJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlUmVmIiwic3R5bGVzIiwiZmFicmljIiwiV2hpdGVib2FyZCIsInNvY2tldCIsInVzZXJuYW1lIiwic2V0VXNlcm5hbWUiLCJjYW52YXMiLCJzZXRDYW52YXMiLCJjdXJzb3JzUmVmIiwiTWFwIiwibGFzdEN1cnNvclBvc2l0aW9uIiwic2V0TGFzdEN1cnNvclBvc2l0aW9uIiwieCIsInkiLCJjYW52YXNXcmFwcGVyUmVmIiwiaW5pdGlhbGl6ZUNhbnZhcyIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjYW52YXNFbGVtZW50IiwiY29uc29sZSIsImxvZyIsImNvbnRhaW5lcldpZHRoIiwib2Zmc2V0V2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiY29udGFpbmVySGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiZmFicmljQ2FudmFzIiwiQ2FudmFzIiwiaXNEcmF3aW5nTW9kZSIsImJhY2tncm91bmRDb2xvciIsInJlbmRlck9uQWRkUmVtb3ZlIiwic2VsZWN0aW9uIiwiaGFuZGxlUmVzaXplIiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJzZXREaW1lbnNpb25zIiwicmVuZGVyQWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZyZWVEcmF3aW5nQnJ1c2giLCJQZW5jaWxCcnVzaCIsImNvbG9yIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3Bvc2UiLCJjbGVhbnVwIiwib24iLCJlbWl0Q2FudmFzRGF0YSIsImhhbmRsZU1vdXNlTW92ZSIsImUiLCJjdXJyZW50IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudFgiLCJsZWZ0IiwiY2xpZW50WSIsInRvcCIsIk1hdGgiLCJhYnMiLCJlbWl0Iiwicm91bmQiLCJzZXR1cFNvY2tldExpc3RlbmVycyIsImRhdGEiLCJ1c2VySWQiLCJpZCIsInVwZGF0ZUN1cnNvciIsImNsZWFyIiwic2V0QmFja2dyb3VuZENvbG9yIiwiYmluZCIsImpzb24iLCJ6b29tIiwiZ2V0Wm9vbSIsInZpZXdwb3J0VHJhbnNmb3JtIiwibG9hZEZyb21KU09OIiwic2V0Wm9vbSIsInNldFZpZXdwb3J0VHJhbnNmb3JtIiwidXBkYXRlVXNlcnNMaXN0IiwiY3Vyc29yIiwiZ2V0IiwicmVtb3ZlIiwiZGVsZXRlIiwib2ZmIiwicmVnaXN0ZXJVc2VyIiwiaW5wdXRVc2VybmFtZSIsInZhbHVlIiwidHJpbSIsImRpc3BsYXkiLCJxdWVyeVNlbGVjdG9yIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImJhY2tncm91bmQiLCJyYW5kb20iLCJkYXRhc2V0IiwiYXBwZW5kQ2hpbGQiLCJzZXQiLCJ1c2VycyIsInVzZXJzTGlzdCIsImlubmVySFRNTCIsIm1hcCIsInVzZXIiLCJ1c2VySXRlbSIsImpvaW4iLCJzZXRBY3RpdmVUb29sIiwidG9vbE5hbWUiLCJ0b29scyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0b29sQnRuIiwiZm9yRWFjaCIsInRvb2wiLCJjbGFzc0xpc3QiLCJhY3RpdmUiLCJhZGQiLCJwYXJzZUludCIsImFkZFNoYXBlIiwiYWRkVGV4dCIsInR5cGUiLCJzaGFwZSIsIlJlY3QiLCJmaWxsIiwiQ2lyY2xlIiwicmFkaXVzIiwic2V0QWN0aXZlT2JqZWN0IiwidGV4dCIsIklUZXh0IiwiZm9udEZhbWlseSIsInRocm90dGxlIiwiZnVuYyIsImxpbWl0IiwiaW5UaHJvdHRsZSIsImFyZ3MiLCJhcHBseSIsInNldFRpbWVvdXQiLCJ0aHJvdHRsZWRFbWl0IiwiSlNPTiIsInN0cmluZ2lmeSIsInRvSlNPTiIsImRlbGV0ZVNlbGVjdGVkT2JqZWN0cyIsImFjdGl2ZU9iamVjdCIsImdldEFjdGl2ZU9iamVjdCIsImZvckVhY2hPYmplY3QiLCJvYmoiLCJkaXNjYXJkQWN0aXZlT2JqZWN0IiwicmVxdWVzdFJlbmRlckFsbCIsImNsZWFyQ2FudmFzIiwiZGl2IiwibG9naW5Nb2RhbCIsImxvZ2luRm9ybSIsImgyIiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzaWRlYmFyIiwiaDMiLCJtYWluQ29udGVudCIsImRhdGEtdG9vbCIsImRlZmF1bHRWYWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwibWluIiwibWF4Iiwib3BlbiIsInRvRGF0YVVSTCIsImNhbnZhc0NvbnRhaW5lciIsInJlZiIsImNhbnZhc1dyYXBwZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/Whiteboard.js\n");

/***/ })

};
;